# Benchmark Results

Engine performance comparison measured with [hyperfine](https://github.com/sharkdp/hyperfine).

> Auto-generated by CI. Do not edit manually.
> Hardware: GitHub Actions `ubuntu-latest` (2-core x86_64).
> Each benchmark: 5 warmup runs, 50+ measured runs.

## Render Only (no git)

Pure rendering speed — JSON parsing, formatting, ANSI output. Git and cumulative stats disabled.

| Engine | Mean | σ | Min | Max | |
|--------|-----:|--:|----:|----:|---|
| **bash** | 57.7ms | ±0.5ms | 56.9ms | 60.3ms | `████████████████████████████` |
| **python** | 61.7ms | ±1.8ms | 60.4ms | 72.9ms | `██████████████████████████████` |
| **go** | 6.8ms | ±0.7ms | 4.9ms | 9.3ms | `███` |
| **rust** | 1.2ms | ±0.0ms | 1.1ms | 1.7ms | `█` |

<details>
<summary>Relative speed</summary>

- **bash**: 49.6x slower
- **python**: 53.0x slower
- **go**: 5.8x slower
- **rust**: baseline (fastest)

</details>

## With Git Operations

Full render including git branch, dirty check, ahead/behind, stash count. Cumulative stats disabled.

| Engine | Mean | σ | Min | Max | |
|--------|-----:|--:|----:|----:|---|
| **bash** | 76.8ms | ±0.8ms | 75.6ms | 78.6ms | `██████████████████████████████` |
| **python** | 73.3ms | ±0.6ms | 71.7ms | 75.2ms | `█████████████████████████████` |
| **go** | 32.7ms | ±0.6ms | 31.5ms | 34.5ms | `█████████████` |
| **rust** | 3.4ms | ±0.0ms | 3.3ms | 3.6ms | `█` |

### Git Overhead

Delta between render-only and with-git benchmarks. Shows the cost of git operations per engine.

| Engine | Render | With Git | Git Cost | Library |
|--------|-------:|---------:|---------:|---------|
| **bash** | 57.7ms | 76.8ms | +19.1ms | git CLI (7 subprocesses) |
| **python** | 61.7ms | 73.3ms | +11.5ms | git CLI (5-8 subprocesses) |
| **go** | 6.8ms | 32.7ms | +26.0ms | go-git (pure Go) |
| **rust** | 1.2ms | 3.4ms | +2.2ms | gix (pure Rust) |

## Key Takeaways

- **Fastest render**: rust at 1.2ms
- **Fastest with git**: rust at 3.4ms
- **Fastest vs slowest**: 53x difference (rust vs python)
- **Subprocess-free engines** (Rust, Go) eliminate fork+exec overhead entirely
- **Python startup** (~400ms) dominates — bytecode caching has no effect
- **gix** (Rust) adds near-zero git overhead; **go-git** (Go) adds ~70ms

## Methodology

- Tool: [hyperfine](https://github.com/sharkdp/hyperfine) with 5 warmup, 50+ measured runs
- Fixture: `tests/fixtures/basic-session.json` (standard session data)
- Git: real repository (actual git operations, not mocked)
- Cumulative stats: disabled (isolates render + git performance)
- Hardware: GitHub Actions `ubuntu-latest` (2-core x86_64)

Run locally: `make bench`
